"use strict";$(function(){function s(){$.ajax({url:"http://127.0.0.1:3000/cards",type:"GET"}).done(function(s){if(w++,s=e(s,a.length),a=a.concat(s),s.length>0){t=$(".c-cards-holder").masonry(l),n=!0;var r=s.map(function(s){return o(s)});t.append(r).masonry("appended",r).masonry("reloadItems"),$.fn.fullpage.reBuild()}else n&&(t.masonry("destroy"),n=!1)})}function r(s){return s.length>g&&(s=s.substring(0,g)+" ..."),s}function e(s,r){return s.map(function(s,e){return s.id="card-"+(r+e+1),s})}function o(s){var e=s.imgHeight/s.imgWidth;return $("<div class='c-card' id='"+s.id+"'><div class='c-card__image'"+("style='background-image: url("+s.img+");'>")+"<div class='c-card__image_embedded'"+("style='padding-top: "+(e?100*e+"%":"100%")+";'></div></div>")+"<div class='c-card__about'>"+("<div class='c-card__name'>"+s.name+' <span class="c-card__last-name">'+s.lastName+"</span></div>")+('<div class="c-card__description">'+r(s.description)+"</div></div></div>")).get(0)}function i(){$(window).width()>767||n&&(console.log("reload masonry"),t.masonry("reloadItems"))}var n=!1,t=void 0,a=[],l={itemSelector:".c-card",columnWidth:".c-card__sizer",percentPosition:!0},c={dots:!0,arrows:!0,infinite:!1,vertical:!1,speed:800,slidesToShow:4,slidesToScroll:4,prevArrow:'<svg class="c-arrow c-arrow__prev"><use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="#arrow-l"></use></svg>',nextArrow:'<svg class="c-arrow c-arrow__next"><use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="#arrow-r"></use></svg>',dotsClass:"slick-dots c-bloggers__dots",responsive:[{breakpoint:992,settings:{slidesToShow:3,slidesToScroll:3}},{breakpoint:767,settings:{slidesToShow:2,slidesToScroll:2}},{breakpoint:480,settings:{slidesToShow:1,slidesToScroll:1}}]},d={dots:!1,centerMode:!1,arrows:!0,infinite:!1,speed:500,slidesToShow:5,prevArrow:'<svg class="c-arrow c-arrow__prev"><use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="#arrow-l"></use></svg>',nextArrow:'<svg class="c-arrow c-arrow__next"><use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="#arrow-r"></use></svg>',responsive:[{breakpoint:992,settings:{slidesToShow:3}},{breakpoint:767,settings:{slidesToShow:2}},{breakpoint:480,settings:{slidesToShow:1}}]},w=1,g=85;$(".c-section-container").fullpage({scrollOverflow:!0,navigation:!0}),s(),$(".c-bloggers").slick(c),$("#more-cards").click(s),$(".c-dreamers").slick(d),$(window).on("resize",i)});
//# sourceMappingURL=../javascripts/common.js.map
