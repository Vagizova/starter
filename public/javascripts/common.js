"use strict";$(function(){function e(){$.ajax({url:"http://127.0.0.1:3000/cards",type:"GET"}).done(function(e){if(d++,e=t(e,i.length),i=i.concat(e),e.length>0){c=$(".c-cards-holder").masonry(s),r=!0;var o=e.map(function(e){return n(e)});c.append(o).masonry("appended",o).masonry("reloadItems")}else r&&(c.masonry("destroy"),r=!1)})}function o(e){return e.length>p&&(e=e.substring(0,p)+" ..."),e}function t(e,o){return e.map(function(e,t){return e.id="card-"+(o+t+1),e})}function n(e){var t=e.imgHeight/e.imgWidth;return $("<div class='c-card' id='"+e.id+"'><div class='c-card__image'"+("style='background-image: url("+e.img+");'>")+"<div class='c-card__image_embedded'"+("style='padding-top: "+(t?100*t+"%":"100%")+";'></div></div>")+"<div class='c-card__about'>"+("<div class='c-card__name'>"+e.name+' <span class="c-card__last-name">'+e.lastName+"</span></div>")+('<div class="c-card__description">'+o(e.description)+"</div></div></div>")).get(0)}var r=!1,c=void 0,i=[],s={itemSelector:".c-card",columnWidth:".c-card__sizer",percentPosition:!0},a={dots:!0,arrows:!0,infinite:!1,vertical:!1,speed:800,slidesToShow:4,slidesToScroll:4,appendArrows:$(".c-bloggers").parents(".c-section__content"),nextArrow:'<div class="slick-next slick-arrow c-bloggers__arrow c-bloggers__next"></div>',prevArrow:'<div class="slick-prev slick-arrow c-bloggers__arrow c-bloggers__prev"></div>',dotsClass:"slick-dots c-bloggers__dots"},l={dots:!1,centerMode:!1,arrows:!0,infinite:!1,speed:500,slidesToShow:5,appendArrows:$(".c-dreamers").parents(".c-section__content"),nextArrow:'<div class="slick-next slick-arrow c-bloggers__arrow c-bloggers__next"></div>',prevArrow:'<div class="slick-prev slick-arrow c-bloggers__arrow c-bloggers__prev"></div>'},d=1,p=85,g=!0;$("html, body").animate({scrollTop:$(".c-header").height()},500,function(){g=!1}),$(".c-bloggers").slick(a),e(),$("#more-cards").click(e),$(".c-dreamers").slick(l);var _=$(".c-section-container").find(".c-section"),v=void 0;v=$(window).scrollTop()>0?0:-1,$(window).on("mousewheel DOMMouseScroll MozMousePixelScroll",function(e){var o=parseInt(e.originalEvent.wheelDelta||-e.originalEvent.detail)>=0;if(o)0==_.eq(v).find(".c-section__content").position().top&&(e.preventDefault(),v>0&&v<=_.length?g||(g=!0,$("html, body").animate({scrollTop:_.eq(v-1).offset().top},500,function(){g=!1}),v--):g||(g=!0,$("html, body").animate({scrollTop:$(".c-section-container").prev().offset().top},500,function(){g=!1}),v--));else{var t=_.eq(v),n=t.find(".c-section__content");n.position().top<=t.height()-n.height()?(e.preventDefault(),v<_.length-1?g||(g=!0,$("html, body").animate({scrollTop:_.eq(v+1).offset().top},500,function(){g=!1}),v++):v==_.length-1&&(g||(g=!0,console.log($(".c-section-container").next().offset().top),$("html, body").animate({scrollTop:$(".c-section-container").next().offset().top},500,function(){g=!1}),v++))):v==-1&&(g||(g=!0,$("html, body").animate({scrollTop:_.eq(0).offset().top},500,function(){g=!1}),v++))}})});
//# sourceMappingURL=../javascripts/common.js.map
